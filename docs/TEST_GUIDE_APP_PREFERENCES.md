# 应用偏好设置功能测试指导

## 🎯 测试目标
验证应用偏好设置功能是否正常工作，包括搜索引擎切换、时间格式设置等核心功能。

## 📋 测试步骤

### 1. 扩展安装与刷新
1. 在Chrome浏览器中打开 `chrome://extensions/`
2. 确保"开发者模式"已开启
3. 点击"刷新"按钮刷新DualTab扩展
4. 打开新标签页验证基础功能

### 2. 设置弹窗访问测试
**操作**：
- 在新标签页右上角点击"设置"按钮（齿轮图标）
- 验证设置弹窗正常打开
- 确认"应用偏好"标签页为默认选中状态

**预期结果**：
- 设置弹窗顺畅打开
- 界面显示清晰，无样式问题
- 标签页导航正常工作

### 3. 搜索引擎设置测试
**操作**：
- 在"应用偏好"页面找到"默认搜索引擎"设置
- 分别切换到Google、百度、Bing
- 每次切换后点击"保存设置"
- 关闭设置弹窗

**验证**：
- 观察搜索框logo是否相应更换
- 在搜索框输入测试关键词，按回车
- 验证是否跳转到正确的搜索引擎

**预期结果**：
- Google: 显示彩色Google logo，跳转到google.com
- 百度: 显示蓝色"百度" SVG logo，跳转到baidu.com
- Bing: 显示蓝色"Bing" SVG logo，跳转到bing.com

### 4. 时间格式设置测试
**操作**：
- 在设置中找到"时间格式"选项
- 切换到"12小时制"，保存设置
- 观察左上角时间显示变化
- 切换回"24小时制"，再次验证

**预期结果**：
- 12小时制: 显示如"2:30 PM"格式
- 24小时制: 显示如"14:30"格式
- 切换立即生效，无需刷新页面

### 5. 日期格式设置测试
**操作**：
- 在设置中找到"日期格式"选项
- 切换到"英文格式"，保存设置
- 观察日期显示变化
- 切换回"中文格式"验证

**预期结果**：
- 中文格式: "2024年5月24日 星期五"
- 英文格式: "Friday, May 24, 2024"

### 6. 秒数显示设置测试
**操作**：
- 在设置中找到"显示秒数"开关
- 关闭开关，保存设置
- 观察时间显示是否隐藏秒数
- 重新开启验证

**预期结果**：
- 关闭时: 只显示小时和分钟
- 开启时: 显示小时、分钟和秒数

### 7. 自动聚焦搜索框测试
**操作**：
- 在设置中开启"自动聚焦搜索框"
- 保存设置，关闭设置弹窗
- 打开新的标签页

**预期结果**：
- 新标签页打开后，搜索框自动获得焦点
- 可以直接输入搜索内容，无需手动点击

### 8. 搜索结果新标签页打开测试
**操作**：
- 在设置中开启"新标签页打开搜索结果"
- 保存设置，在搜索框输入关键词
- 按回车执行搜索

**预期结果**：
- 搜索结果在新标签页中打开
- 原标签页保持在DualTab首页

### 9. 设置持久化测试
**操作**：
- 修改多个设置项
- 保存设置后关闭标签页
- 重新打开新标签页
- 再次打开设置弹窗检查

**预期结果**：
- 所有设置值都正确保存
- 界面显示符合保存的设置
- 跨标签页设置保持一致

### 10. 错误处理测试
**操作**：
- 观察控制台是否有错误信息
- 测试快速切换设置项
- 测试网络环境下的图标加载

**预期结果**：
- 控制台无JavaScript错误
- 快速切换设置不会产生冲突
- 图标加载失败时有优雅降级

## ⚠️ 常见问题处理

### 问题1：设置不生效
**解决方案**：
1. 检查Chrome扩展是否正确刷新
2. 确认设置是否点击"保存设置"按钮
3. 尝试关闭并重新打开标签页

### 问题2：搜索引擎logo不显示
**解决方案**：
1. 检查public/images/目录下的logo文件
2. 确认浏览器网络连接正常
3. 查看控制台Network标签页的资源加载情况

### 问题3：时间格式显示异常
**解决方案**：
1. 检查系统时间设置
2. 确认浏览器语言设置
3. 尝试刷新页面重新加载时间格式

## ✅ 测试通过标准

- [ ] 设置弹窗正常打开和关闭
- [ ] 搜索引擎切换功能正常
- [ ] 时间格式设置立即生效
- [ ] 日期格式设置正确显示
- [ ] 秒数显示开关有效
- [ ] 自动聚焦功能正常
- [ ] 新标签页打开设置有效
- [ ] 设置数据正确持久化
- [ ] 无JavaScript控制台错误
- [ ] 跨标签页设置同步正常

**测试完成后，请确认以上所有功能点都正常工作！**
